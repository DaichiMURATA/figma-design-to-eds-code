# ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—çŠ¶æ³ - Figma Design to EDS Code Template

## âœ… å®Œäº†é …ç›®

### 1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåŸºæœ¬æ§‹é€ 
- [x] EDS Boilerplate ãƒ™ãƒ¼ã‚¹æ§‹é€ 
- [x] npm ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸è¨­å®š
- [x] Storybook ä¾å­˜é–¢ä¿‚è¿½åŠ 
- [x] Git ãƒªãƒã‚¸ãƒˆãƒªåˆæœŸåŒ–

### 2. Figma MCPçµ±åˆ
- [x] MCPè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ (`.mcp-setup/mcp.json.template`)
- [x] è‡ªå‹•ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¹ã‚¯ãƒªãƒ—ãƒˆ (`.mcp-setup/setup-figma-mcp.sh`)
- [x] æ¤œè¨¼ã‚¹ã‚¯ãƒªãƒ—ãƒˆ (`.mcp-setup/verify-setup.sh`)
- [x] ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ç”¨ README (`.mcp-setup/README.md`)
- [x] å‹•ä½œæ¤œè¨¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ (`.mcp-setup/VERIFICATION.md`)
- [x] Figma API ã‚¢ã‚¯ã‚»ã‚¹ç¢ºèªæ¸ˆã¿ï¼ˆå®Ÿéš›ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã§ï¼‰

**å®Ÿéš›ã®Figmaãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ:**
- ãƒ•ã‚¡ã‚¤ãƒ«å: `SandBox 0108-AEM Figma Design Framework`
- ãƒ•ã‚¡ã‚¤ãƒ«ID: `MJTwyRbE5EVdlci3UIwsut`
- URL: https://www.figma.com/design/MJTwyRbE5EVdlci3UIwsut/SandBox-0108-AEM-Figma-Design-Framework?node-id=2-1446

### 3. Blockç”Ÿæˆã‚¬ã‚¤ãƒ‰ï¼ˆNEW! âœ¨ï¼‰
- [x] **`.cursorrules`** - AIå‘ã‘è‡ªå‹•ç”Ÿæˆãƒ«ãƒ¼ãƒ« (5.4KB)
  - Figma MCPçµ±åˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼
  - ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›å½¢å¼å®šç¾©
  - è‡ªå‹•å‡¦ç†ã‚¹ãƒ†ãƒƒãƒ—
  - Storyç”Ÿæˆæˆ¦ç•¥
  
- [x] **`BLOCK-GENERATION-GUIDE.md`** - åŒ…æ‹¬çš„ãªç”Ÿæˆãƒ«ãƒ¼ãƒ« (16KB)
  - JavaScriptå®Ÿè£…è¦ä»¶
  - CSSå®Ÿè£…è¦ä»¶ï¼ˆFigma Variables â†’ CSS Custom Propertiesï¼‰
  - Storybook Storyè¦ä»¶
  - Figma Variant â†’ Story Export ãƒãƒƒãƒ”ãƒ³ã‚°
  - ãƒ—ãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ
  - å…±é€šãƒ‘ã‚¿ãƒ¼ãƒ³é›†
  
- [x] **`VISUAL-REGRESSION-STRATEGY.md`** - Visual Regressionæˆ¦ç•¥ (13KB)
  - Story Export = Snapshot ã®åŸå‰‡
  - Figma Variant ãƒãƒƒãƒ”ãƒ³ã‚°æˆ¦ç•¥
  - What to/not to export as Stories
  - å®Ÿä¾‹ã¨ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

### 4. Storybookè¨­å®š
- [x] `.storybook/main.js` - Storybookè¨­å®š
- [x] `.storybook/preview.js` - ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼è¨­å®šï¼ˆèƒŒæ™¯ã€ãƒ“ãƒ¥ãƒ¼ãƒãƒ¼ãƒˆã€ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ãƒ¼ï¼‰
- [x] ã‚µãƒ³ãƒ—ãƒ«Hero Block Story (`blocks/hero/hero.stories.js`)

### 5. ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
- [x] `FIGMA-MCP-INTEGRATION.md` - Figma MCPçµ±åˆè¨­è¨ˆæ›¸ (450è¡Œ)
- [x] `FIGMA-MCP-QUICKSTART.md` - ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆã‚¬ã‚¤ãƒ‰
- [x] `figma-urls.json` - Figma URLç®¡ç†ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
- [x] `prompts/generate-block-from-figma.md` - ãƒ–ãƒ­ãƒƒã‚¯ç”Ÿæˆãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
- [x] `docs/user-stories/hero-block.md` - ã‚µãƒ³ãƒ—ãƒ«User Story

### 6. Chromaticçµ±åˆï¼ˆmy-websiteæ¤œè¨¼æ¸ˆã¿ï¼‰
- [x] Chromatic ã‚¢ã‚«ã‚¦ãƒ³ãƒˆè¨­å®š
- [x] GitHub Actions ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼è¨­å®šï¼ˆ2å±¤æˆ¦ç•¥ï¼‰
- [x] Playwright E2E ãƒ†ã‚¹ãƒˆè¨­å®š
- [x] Chromatic baselineç®¡ç†æˆ¦ç•¥ç¢ºç«‹
- [x] PRçµŒç”±Visual Regressionå‹•ä½œç¢ºèªæ¸ˆã¿

---

## ğŸ“‹ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

### Phase 1: ç’°å¢ƒç¢ºèªï¼ˆé€²è¡Œä¸­ï¼‰
- [x] npm install å®Œäº†
- [ ] Storybook èµ·å‹•ç¢ºèª (`npm run storybook`)
- [ ] Cursor MCPçµŒç”±ã§Figmaã‚¢ã‚¯ã‚»ã‚¹ç¢ºèª

### Phase 2: Blockç”Ÿæˆãƒ†ã‚¹ãƒˆ
- [ ] å®Ÿéš›ã®Figmaã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆé¸å®š
- [ ] User Story ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä½œæˆ
- [ ] Blockç”Ÿæˆãƒ—ãƒ­ãƒ³ãƒ—ãƒˆå®Ÿè¡Œ
- [ ] ç”Ÿæˆã•ã‚ŒãŸã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼
- [ ] Storybook ã§ Storyç¢ºèª

### Phase 3: Visual Regressionçµ±åˆ
- [ ] GitHub ãƒªãƒã‚¸ãƒˆãƒªä½œæˆ
- [ ] Chromatic ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ
- [ ] GitHub Secrets è¨­å®š (`CHROMATIC_PROJECT_TOKEN`)
- [ ] PRçµŒç”±ã§VR ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ

### Phase 4: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆåŒ–
- [ ] README.md å®Œæˆç‰ˆä½œæˆ
- [ ] ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¬ã‚¤ãƒ‰æ•´å‚™
- [ ] ã‚µãƒ³ãƒ—ãƒ«Blockè¿½åŠ 
- [ ] ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã¨ã—ã¦å…¬é–‹æº–å‚™

---

## ğŸ¯ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆå½¢å¼ï¼ˆç¢ºå®šç‰ˆï¼‰

### åŸºæœ¬å½¢å¼

```
@figma https://www.figma.com/design/MJTwyRbE5EVdlci3UIwsut/SandBox-0108-AEM-Figma-Design-Framework?node-id=2-1446
@file docs/user-stories/hero-block.md

ä¸Šè¨˜ã®Figmaãƒ‡ã‚¶ã‚¤ãƒ³ã¨UserStoryã‚’åŸºã«ã€EDS Blockã‚’ç”Ÿæˆã—ã¦ãã ã•ã„ã€‚

ç”Ÿæˆãƒ•ã‚¡ã‚¤ãƒ«:
- blocks/hero/hero.js
- blocks/hero/hero.css
- blocks/hero/hero.stories.js

è¦ä»¶:
- Figma Variantsã«å¯¾å¿œã—ãŸStorybook Storiesã‚’ä½œæˆ
- Visual Regressionãƒ†ã‚¹ãƒˆå¯¾å¿œï¼ˆå„Variant â†’ 1 Story Exportï¼‰
- WCAG AA ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£æº–æ‹ 
```

### ç°¡ç•¥ç‰ˆ

```
@figma {FIGMA_URL}
@file {USER_STORY_PATH}

Generate EDS Block
```

---

## ğŸ”§ åˆ©ç”¨å¯èƒ½ãªã‚³ãƒãƒ³ãƒ‰

```bash
# Storybookèµ·å‹•
npm run storybook

# Storybookãƒ“ãƒ«ãƒ‰
npm run build-storybook

# Linting
npm run lint
npm run lint:fix

# Chromaticå®Ÿè¡Œï¼ˆãƒ­ãƒ¼ã‚«ãƒ«ãƒ†ã‚¹ãƒˆï¼‰
npm run chromatic

# Chromatic E2Eãƒ†ã‚¹ãƒˆ
npm run chromatic:e2e

# Figma MCP ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
cd .mcp-setup
./setup-figma-mcp.sh

# Figma MCP æ¤œè¨¼
./verify-setup.sh
```

---

## ğŸ“ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 

```
d2c/
â”œâ”€â”€ .cursorrules                        # AIè‡ªå‹•ç”Ÿæˆãƒ«ãƒ¼ãƒ« â­
â”œâ”€â”€ BLOCK-GENERATION-GUIDE.md           # Blockç”ŸæˆåŒ…æ‹¬ã‚¬ã‚¤ãƒ‰ â­
â”œâ”€â”€ VISUAL-REGRESSION-STRATEGY.md       # Visual Regressionæˆ¦ç•¥ â­
â”œâ”€â”€ FIGMA-MCP-INTEGRATION.md           # Figma MCPè¨­è¨ˆæ›¸
â”œâ”€â”€ FIGMA-MCP-QUICKSTART.md            # ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ
â”œâ”€â”€ .mcp-setup/                        # Figma MCP ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
â”‚   â”œâ”€â”€ README.md
â”‚   â”œâ”€â”€ setup-figma-mcp.sh            # è‡ªå‹•ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
â”‚   â”œâ”€â”€ verify-setup.sh               # æ¤œè¨¼ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”‚   â”œâ”€â”€ mcp.json.template             # MCPè¨­å®šãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
â”‚   â””â”€â”€ VERIFICATION.md               # æ¤œè¨¼çµæœ
â”œâ”€â”€ .storybook/                        # Storybookè¨­å®š
â”‚   â”œâ”€â”€ main.js
â”‚   â””â”€â”€ preview.js
â”œâ”€â”€ blocks/                            # EDS Blocks
â”‚   â””â”€â”€ hero/                         # ã‚µãƒ³ãƒ—ãƒ«Block
â”‚       â”œâ”€â”€ hero.js
â”‚       â”œâ”€â”€ hero.css
â”‚       â””â”€â”€ hero.stories.js           # Storybook Story
â”œâ”€â”€ docs/                              # ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
â”‚   â””â”€â”€ user-stories/                 # User Story
â”‚       â””â”€â”€ hero-block.md
â”œâ”€â”€ prompts/                           # ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
â”‚   â””â”€â”€ generate-block-from-figma.md
â”œâ”€â”€ styles/                            # ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¹ã‚¿ã‚¤ãƒ«
â”‚   â””â”€â”€ styles.css                    # Design Tokens
â”œâ”€â”€ scripts/                           # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”‚   â””â”€â”€ aem.js                        # EDS ãƒ˜ãƒ«ãƒ‘ãƒ¼é–¢æ•°
â””â”€â”€ package.json                       # npm è¨­å®š
```

---

## ğŸ‰ æ–°è¦è¿½åŠ ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆä»Šå›ä½œæˆï¼‰

1. **`.cursorrules`** (5.4KB)
   - Figma MCPçµ±åˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼å®šç¾©
   - AIè‡ªå‹•ç”Ÿæˆãƒ«ãƒ¼ãƒ«
   - ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆå½¢å¼å®šç¾©

2. **`BLOCK-GENERATION-GUIDE.md`** (16KB)
   - JavaScript/CSS/Storybookå®Ÿè£…è¦ä»¶
   - Figma â†’ Code ãƒãƒƒãƒ”ãƒ³ã‚°æˆ¦ç•¥
   - ãƒ—ãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

3. **`VISUAL-REGRESSION-STRATEGY.md`** (13KB)
   - Story Export = Snapshot åŸå‰‡
   - Figma Variant â†’ Story Export ãƒãƒƒãƒ”ãƒ³ã‚°
   - ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹é›†

---

## ğŸš€ ä»Šã™ãã§ãã‚‹ã“ã¨

1. **Storybookã‚’èµ·å‹•ã—ã¦ç¢ºèª**:
   ```bash
   cd /Users/dmurata/Documents/Dev/d2c
   npm run storybook
   ```

2. **Figma MCPã§ãƒ‡ã‚¶ã‚¤ãƒ³å–å¾—ãƒ†ã‚¹ãƒˆ**:
   ```
   @figma https://www.figma.com/design/MJTwyRbE5EVdlci3UIwsut/SandBox-0108-AEM-Figma-Design-Framework?node-id=2-1446
   
   ã“ã®Figmaã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®æƒ…å ±ã‚’å–å¾—ã—ã¦ãã ã•ã„
   ```

3. **Blockç”Ÿæˆãƒ—ãƒ­ãƒ³ãƒ—ãƒˆå®Ÿè¡Œ**:
   ```
   @figma https://www.figma.com/design/MJTwyRbE5EVdlci3UIwsut/...?node-id=2-1446
   @file docs/user-stories/hero-block.md
   
   Generate EDS Block
   ```

---

**æ›´æ–°æ—¥**: 2026-01-13 11:52 JST
**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: ã‚¬ã‚¤ãƒ‰ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆå®Œäº†ã€Storybookèµ·å‹•ç¢ºèªå¾…ã¡
